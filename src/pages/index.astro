---
export const partial = true;

const id = Astro.url.searchParams.get("id") || "";

interface Item {
	userId: number;
	id: number;
	title: string;
	completed: boolean;
}

const response = await fetch(
	"https://jsonplaceholder.typicode.com/todos/" + id,
);

let item: Item | null = null;

if (response.ok) {
	item = await response.json();
}
---

{
	item ? (
		<div>
			<h1>{item.title}</h1>
			<p>id: {item.id}</p>
			<p>user id: {item.userId}</p>
			<p>completed: {item.completed ? "Yes" : "No"}</p>
		</div>
	) : (
		<p>No item found</p>
	)
}
